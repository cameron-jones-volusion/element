{"componentChunkName":"component---src-templates-docs-js","path":"/references/cart-events","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"Element Documentation | Volusion","docsLocation":"https://github.com/volusion/element"}},"mdx":{"id":"42dab5df-a39a-5cbe-bf4e-42159c1b5ed7","fields":{"id":"42dab5df-a39a-5cbe-bf4e-42159c1b5ed7","title":"Cart Events","slug":"/references/cart-events"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Cart Events\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The Element SDK provides topic names for standard cart events. Blocks can subscribe to these topics, as well as publishing to them, using PubSubJS.\"), mdx(\"h2\", null, \"Table of Contents\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#eventdefinitions\"\n  }), \"Event Definitions\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#'addtocart'\"\n  }), \"addToCart\"), \" - publish to add an item to the cart\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#'itemaddedtocart'\"\n  }), \"itemAddedToCart\"), \" - subscribe to get info about an item added to the cart\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#'itemremovedfromcart'\"\n  }), \"itemRemovedFromCart\"), \" - subscribe to get info about an item removed from the cart\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#'openaccountpanel'\"\n  }), \"openAccountPanel\"), \" - publish to open the account panel\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#'opencart'\"\n  }), \"openCart\"), \" - publish to open the cart panel\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#'updatecartcount'\"\n  }), \"updateCartCount\"), \" - subscribe to get the updated cart quantity\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#additionalreading\"\n  }), \"Additional Reading\"))), mdx(\"h3\", null, \"Event Definitions\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"this.props.events.cart\"), \", available within block component definitions, is defined as follows:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"{\\n    addToCart: \\\"cart.addToCart\\\",\\n    itemAddedToCart: \\\"cart.itemAddedToCart\\\",\\n    itemRemovedFromCart: \\\"cart.itemRemovedFromCart\\\",\\n    openAccountPanel: \\\"cart.openAccountPanel\\\",\\n    openCart: \\\"cart.openCart\\\",\\n    updateCartCount: \\\"cart.updateCartCount\\\",\\n}\\n\")), mdx(\"p\", null, \"Subscriptions using these topics should be referenced as properties of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"this.props.events.cart\"), \", not as strings. This is because these topic names are provided by Element SDK and could be subject to change. By using the property values from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"this.props.events.cart\"), \", you are guaranteed to have a valid topic name. Using the string is not as safe.\"), mdx(\"p\", null, \"For example, use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"this.props.events.cart.addToCart\"), \", not \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"cart.addToCart\\\"\"), \".\"), mdx(\"h2\", null, \"Events\"), mdx(\"h3\", null, \"'addToCart'\"), mdx(\"p\", null, \"The cart subscribes to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addToCart\"), \" event. You can publish it from your own blocks to add items to the cart.\"), mdx(\"h4\", null, \"'addToCart' Usage\"), mdx(\"p\", null, \"When publishing an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addToCart\"), \" event, you must provide an object as the second argument of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"publish\"), \" function with the following properties:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"this.props.pubSub.publish(this.props.events.cart.addToCart, {\\n  productId, // type: string, from product data\\n  quantity, // type: int, whatever quantity you want to add to the cart, ex: 1\\n  variantId, // type: string, from product data\\n  itemPrice, // type: float, from product data, ex: 4.99\\n})\\n\")), mdx(\"h3\", null, \"'itemAddedToCart'\"), mdx(\"p\", null, \"The cart publishes this event after the shopper adds an item to the cart. Your blocks can subscribe to it to see information about the item that the shopper added.\"), mdx(\"h4\", null, \"'itemAddedToCart' Usage\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// subscribe to the event\\nthis.props.pubSub.subscribe(\\n  this.props.events.cart.itemAddedToCart,\\n  this.handleItemAdded\\n)\\n\\n// define a handler function to receive the data\\nhandleItemAdded = (msg, data) => {\\n  // use msg and data here\\n}\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"data\"), \" provided by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"itemAddedToCart\"), \" has the following shape:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"{\\n  id, // string, the id of the product\\n    images, // array of objects, containing image data for the product\\n    name, // string, the product name\\n    price, // float, the product price, ex: 4.99\\n    quantity // int, the quantity of items added to the cart in the triggering action\\n}\\n\")), mdx(\"h3\", null, \"'itemRemovedFromCart'\"), mdx(\"p\", null, \"The cart publishes this event after the shopper removes an item from the cart. Your blocks can subscribe to it to see information about the item that the shopper removed.\"), mdx(\"h4\", null, \"'itemRemovedFromCart Usage'\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// subscribe to the event\\nthis.props.pubSub.subscribe(\\n  this.props.events.cart.itemRemovedFromCart,\\n  this.handleItemRemoved\\n)\\n\\n// define a handler function to receive the data\\nhandleItemRemoved = (msg, data) => {\\n  // use msg and data here\\n}\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"data\"), \" provided by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"itemRemovedFromCart\"), \" has the following shape:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"{\\n  id, // string, the id of the product\\n    images, // array of objects, containing image data for the product\\n    name, // string, the product name\\n    price, // float, the product price, ex: 4.99\\n    quantity // int, the quantity of items removed from the cart in the triggering action\\n}\\n\")), mdx(\"h3\", null, \"'openAccountPanel'\"), mdx(\"p\", null, \"The cart block subscribes to this event and your blocks can publish the event to open the account panel.\"), mdx(\"h4\", null, \"'openAccountPanel' Usage\"), mdx(\"p\", null, \"No data is necessary when publishing this event.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"this.props.pubSub.publish(this.props.events.cart.openAccountPanel)\\n\")), mdx(\"h3\", null, \"'openCart'\"), mdx(\"p\", null, \"The cart block subscribes to this event and your blocks can publish the event to open the cart panel.\"), mdx(\"h4\", null, \"'openCart' Usage\"), mdx(\"p\", null, \"No data is necessary when publishing this event.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"this.props.pubSub.publish(this.props.events.cart.openCart)\\n\")), mdx(\"h3\", null, \"'updateCartCount'\"), mdx(\"p\", null, \"The cart publishes this event after the shopper updates the count of total items in the cart. Your blocks can subscribe to it to see the new quantity of items in the cart.\"), mdx(\"h4\", null, \"'updateCartCount' Usage\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// subscribe to the event\\nthis.props.pubSub.subscribe(\\n  this.props.events.cart.updateCartCount,\\n  this.handleUpdatedCartCount\\n)\\n\\n// define a handler function to receive the data\\nhandleUpdatedCartCount = (msg, count) => {\\n  // use msg and count here, count is an int\\n}\\n\")), mdx(\"h3\", null, \"Additional Reading\"), mdx(\"p\", null, \"For more details on PubSubJS, see the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/pubsub-js\"\n  }), \"PubSubJS npm reference\"), \".\"), mdx(\"p\", null, \"For more information about how to communicate between blocks using PubSubJS, see the guide for \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/element/how-to/communicate-between-blocks\"\n  }), \"How to Communicate between Two (Or More) Blocks\")));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#table-of-contents","title":"Table of Contents","items":[{"url":"#event-definitions","title":"Event Definitions"}]},{"url":"#events","title":"Events","items":[{"url":"#addtocart","title":"'addToCart'","items":[{"url":"#addtocart-usage","title":"'addToCart' Usage"}]},{"url":"#itemaddedtocart","title":"'itemAddedToCart'","items":[{"url":"#itemaddedtocart-usage","title":"'itemAddedToCart' Usage"}]},{"url":"#itemremovedfromcart","title":"'itemRemovedFromCart'","items":[{"url":"#itemremovedfromcart-usage","title":"'itemRemovedFromCart Usage'"}]},{"url":"#openaccountpanel","title":"'openAccountPanel'","items":[{"url":"#openaccountpanel-usage","title":"'openAccountPanel' Usage"}]},{"url":"#opencart","title":"'openCart'","items":[{"url":"#opencart-usage","title":"'openCart' Usage"}]},{"url":"#updatecartcount","title":"'updateCartCount'","items":[{"url":"#updatecartcount-usage","title":"'updateCartCount' Usage"}]},{"url":"#additional-reading","title":"Additional Reading"}]}]},"parent":{"__typename":"File","id":"2c90a8b7-e3ee-59ea-9d4e-a7252b1d52e0","relativePath":"references/cart-events.md"},"frontmatter":{"metaTitle":null,"metaDescription":null}},"allMdx":{"edges":[{"node":{"id":"598197dc-fd2c-5af7-a13e-c9f331406896","fields":{"slug":"/explanations","title":"Explanations"}}},{"node":{"id":"013e4d7e-8a1a-5651-b15c-68d2557eac11","fields":{"slug":"/how-to","title":"How-to Guides"}}},{"node":{"id":"58ae2841-7397-5e4d-8d0c-c384eafbc0f6","fields":{"slug":"/","title":"Element Platform documentation"}}},{"node":{"id":"c580ef76-086c-5481-b65d-2ba5f334c5a9","fields":{"slug":"/introduction","title":"What Is Element?"}}},{"node":{"id":"ed8ae9f5-2cbb-5b21-ad8e-ec90203cd500","fields":{"slug":"/references","title":"Reference"}}},{"node":{"id":"1184baf8-b60c-5c9b-93d8-dd13b929f2fb","fields":{"slug":"/tutorials","title":"Tutorials"}}},{"node":{"id":"1295f035-bd96-5a8d-b403-a3d30f467dc1","fields":{"slug":"/references/block-utils","title":"Block Utils"}}},{"node":{"id":"a554cee5-8ba0-56f1-a303-431ae3fd8ced","fields":{"slug":"/references/element-cli","title":"Element CLI Reference"}}},{"node":{"id":"42dab5df-a39a-5cbe-bf4e-42159c1b5ed7","fields":{"slug":"/references/cart-events","title":"Cart Events"}}},{"node":{"id":"d6be1efa-4018-5297-80f9-c014ca0d7dd6","fields":{"slug":"/references/styling-your-block-with-css","title":"Styling Your Block With CSS"}}},{"node":{"id":"733f0026-14b4-5a4b-8dad-223bc9c25279","fields":{"slug":"/references/proptypes","title":"Proptypes"}}},{"node":{"id":"56814125-7515-5372-9bea-956ab4ec5698","fields":{"slug":"/references/sdk","title":"SDK"}}},{"node":{"id":"4747be5a-972c-5591-ab27-c8d5602008f3","fields":{"slug":"/tutorials/building-an-element-page","title":"Building An Element Page"}}},{"node":{"id":"c07adbd5-2bec-5272-b51d-e9704795ac5e","fields":{"slug":"/tutorials/product-landing-page","title":"Product Landing Page"}}},{"node":{"id":"b1113bb0-7583-5d73-a5d5-772033af6a85","fields":{"slug":"/tutorials/proptypes","title":"Proptypes"}}},{"node":{"id":"b8d8ae41-d84d-5dd3-9ad5-17078ade8638","fields":{"slug":"/tutorials/site-designer","title":"Site Designer"}}},{"node":{"id":"d56ff532-d99f-55b4-93e0-698c8e29e016","fields":{"slug":"/explanations/adding-a-blog","title":"Adding a Blog"}}},{"node":{"id":"1bd7b753-edc0-5d4a-a3bd-b006d37dc4ba","fields":{"slug":"/explanations/all-the-tech-you-need","title":"All The Tech You Need"}}},{"node":{"id":"3d52af73-c8d5-5745-9c14-422383f9affd","fields":{"slug":"/explanations/block-versions","title":"Block Versions"}}},{"node":{"id":"c921962b-3ae1-58a6-9051-3a8cde860fde","fields":{"slug":"/explanations/e-commerce-pages","title":"E-commerce Theme Pages"}}},{"node":{"id":"f7f56211-deb4-5591-823e-ed78fa73330a","fields":{"slug":"/explanations/element-concepts","title":"Element Concepts"}}},{"node":{"id":"bd19fbbc-a2e1-51e6-a0d3-8a3c8c186366","fields":{"slug":"/explanations/keeping-your-site-fast","title":"Keeping Your Site Fast"}}},{"node":{"id":"6c9e805a-9cb7-5894-b055-450e77fa6437","fields":{"slug":"/how-to/add-blocks-to-templates","title":"Add Blocks to Templates"}}},{"node":{"id":"55e30023-f8d8-598b-a4a3-59fc1c245d1b","fields":{"slug":"/explanations/what-is-element","title":"What Is Element?"}}},{"node":{"id":"48b5d9e2-1225-5b8f-aa83-2064d9563b99","fields":{"slug":"/how-to/add-external-scripts-from-a-block","title":"Add External Scripts from a Block"}}},{"node":{"id":"36d8b0c7-2932-5e69-9550-b3faa050e803","fields":{"slug":"/how-to/add-page-to-theme","title":"How to Add a Page to a Theme"}}},{"node":{"id":"b2874876-c889-56bb-afe9-5cb74dfa42fa","fields":{"slug":"/how-to/add-page-with-uri-parameters","title":"How to Add a Page That Depends on URI Parameters"}}},{"node":{"id":"8dbb026b-cc3a-5931-8f25-802528ec5c51","fields":{"slug":"/how-to/communicate-between-blocks","title":"Communicate Between Blocks"}}},{"node":{"id":"edef2f5b-3d49-55d6-a23f-d5b31b784686","fields":{"slug":"/how-to/data-third-party-services","title":"Data ThirdParty Services"}}},{"node":{"id":"08e8594e-2da0-58aa-88fa-5248fa89efce","fields":{"slug":"/how-to/data-volusion-api","title":"Data Volusion API"}}},{"node":{"id":"4540bf4f-44b0-53ca-a876-004a2245b7ac","fields":{"slug":"/how-to/env-setup","title":"Environment Setup"}}},{"node":{"id":"938a14b4-e956-5d51-ad93-09a26e3da05b","fields":{"slug":"/how-to/fetch-data-fast","title":"Fetch Data Fast"}}},{"node":{"id":"be083c88-a815-5ce7-99b2-cd1e61794423","fields":{"slug":"/how-to/get-approved-to-develop-blocks","title":"How to Get Approved to Develop Blocks"}}},{"node":{"id":"12e344ef-2c7f-5f00-81f1-9f7674d98df9","fields":{"slug":"/how-to/interact-with-the-cart","title":"How to Interact with the Cart"}}},{"node":{"id":"a2a5881e-9c5e-530c-ae1f-49f28bfc0f28","fields":{"slug":"/how-to/preview-block-changes","title":"Preview Block Changes"}}},{"node":{"id":"fe1f3310-d801-5c6a-90df-de74d4d4fe2e","fields":{"slug":"/how-to/proptypes","title":"Element Proptypes"}}},{"node":{"id":"e7d72055-ad9e-5c21-80e0-3415f38f8b17","fields":{"slug":"/how-to/read-page-uri-parameters-in-blocks","title":"Read Page URI Parameters In Blocks"}}},{"node":{"id":"60f68171-db76-5938-b322-696b8df758c2","fields":{"slug":"/how-to/release-a-minor-block-change","title":"Release A Minor Block Change"}}},{"node":{"id":"fbd18de0-0016-5a9b-8dd3-289a1cb684be","fields":{"slug":"/how-to/reuse-a-block-across-pages","title":"Reuse A Block Across Pages"}}},{"node":{"id":"aeb1ecca-0ad5-5926-8f38-0bb9197fa6fd","fields":{"slug":"/how-to/release-a-new-major-block-version","title":"Release A New Major Block Version"}}},{"node":{"id":"a8dda99c-4fa8-552a-95a0-d69e9a7c94ec","fields":{"slug":"/how-to/rollback-a-block-change","title":"Rollback A Block Change"}}},{"node":{"id":"b7b92df0-423a-566a-b82d-2c5314bc2a9c","fields":{"slug":"/how-to/set-seo-data-from-a-block","title":"Set SEO Data From A Block"}}},{"node":{"id":"b34a0052-eec2-532e-8afb-63eef565f193","fields":{"slug":"/how-to/style-a-block-with-aphrodite","title":"Style A Block With Aphrodite"}}},{"node":{"id":"0ca5f634-4155-5aee-be7f-745ed5b3387b","fields":{"slug":"/how-to/track-block-versions","title":"Track Block Versions"}}},{"node":{"id":"343999a8-1a1b-50cf-9a3b-4f5792dc23d4","fields":{"slug":"/how-to/use-react-hooks-in-a-block","title":"Use React Hooks in an Element Block"}}}]}},"pageContext":{"id":"42dab5df-a39a-5cbe-bf4e-42159c1b5ed7"}}}